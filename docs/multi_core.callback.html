---

title: Multi Core Callback XLA Extensions


keywords: fastai
sidebar: home_sidebar

summary: "Patches to Recorder and ParamScheduler Callbacks"
description: "Patches to Recorder and ParamScheduler Callbacks"
nb_path: "nbs/03c_multi_core.callback.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/03c_multi_core.callback.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Modifications to existing callback <code>Recorder</code>, <code>ParamScheduler</code> are needed in order to store extra attributes to a temporary file after running the multi core TPU training as spawned processes.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="maybe_item" class="doc_header"><code>maybe_item</code><a href="https://github.com/butchland/fastai_xla_extensions/tree/master/fastai_xla_extensions/multi_core/callback.py#L29" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>maybe_item</code>(<strong><code>o</code></strong>)</p>
</blockquote>
<p>extract scalar values from a tensor, lists and dicts of tensors
(and pulling it out of gpu/tpu into cpu) else if not tensor just
use orig value</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">fastcore.test</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">(</span><span class="mf">5.</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">maybe_item</span><span class="p">(</span><span class="n">t1</span><span class="p">),</span> <span class="mf">5.</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">maybe_item</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="mi">5</span><span class="p">)),</span><span class="mf">5.</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Given a tensor, <a href="/fastai_xla_extensions/multi_core.callback.html#maybe_item"><code>maybe_item</code></a> converts it to a scalar. If given is not a tensor (e.g. already a scalar), it just returns the scalar.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">fastcore.test</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">fastai.torch_core</span> <span class="kn">import</span> <span class="n">tensor</span>
<span class="n">tl1</span> <span class="o">=</span> <span class="p">[</span><span class="n">tensor</span><span class="p">(</span><span class="mf">2.</span><span class="p">)]</span> <span class="o">*</span> <span class="mi">5</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">maybe_item</span><span class="p">(</span><span class="n">tl1</span><span class="p">),</span> <span class="p">[</span><span class="mf">2.</span><span class="p">]</span> <span class="o">*</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">dt1</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;d1&#39;</span><span class="p">:</span> <span class="n">tensor</span><span class="p">(</span><span class="mf">3.</span><span class="p">),</span>
        <span class="s1">&#39;d2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">tensor</span><span class="p">(</span><span class="mf">1.</span><span class="p">)]</span> <span class="o">*</span> <span class="mi">3</span><span class="p">}</span>
<span class="n">df1</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;d1&#39;</span><span class="p">:</span> <span class="mf">3.</span><span class="p">,</span>
        <span class="s1">&#39;d2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.</span><span class="p">]</span> <span class="o">*</span> <span class="mi">3</span><span class="p">}</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">maybe_item</span><span class="p">(</span><span class="n">dt1</span><span class="p">),</span> <span class="n">df1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a href="/fastai_xla_extensions/multi_core.callback.html#maybe_item"><code>maybe_item</code></a> should also work for lists of tensors and dicts of tensors
and/or list of tensors.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Recorder.get_extra_attrs" class="doc_header"><code>Recorder.get_extra_attrs</code><a href="__main__.py#L5" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Recorder.get_extra_attrs</code>()</p>
</blockquote>
<p>Extract state attrs of Recorder into a dict (suitable for pickling)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">fastai.test_utils</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">learner</span> <span class="o">=</span> <span class="n">synth_learner</span><span class="p">()</span>
<span class="n">learner</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">extra_attrs</span> <span class="o">=</span> <span class="n">learner</span><span class="o">.</span><span class="n">recorder</span><span class="o">.</span><span class="n">get_extra_attrs</span><span class="p">()</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">extra_attrs</span><span class="p">[</span><span class="s1">&#39;lrs&#39;</span><span class="p">],</span> <span class="n">learner</span><span class="o">.</span><span class="n">recorder</span><span class="o">.</span><span class="n">lrs</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">extra_attrs</span><span class="p">[</span><span class="s1">&#39;losses&#39;</span><span class="p">],</span> <span class="n">learner</span><span class="o">.</span><span class="n">recorder</span><span class="o">.</span><span class="n">losses</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">extra_attrs</span><span class="p">[</span><span class="s1">&#39;iters&#39;</span><span class="p">],</span> <span class="n">learner</span><span class="o">.</span><span class="n">recorder</span><span class="o">.</span><span class="n">iters</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">extra_attrs</span><span class="p">[</span><span class="s1">&#39;values&#39;</span><span class="p">],</span> <span class="n">learner</span><span class="o">.</span><span class="n">recorder</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a href="/fastai_xla_extensions/multi_core.callback.html#Recorder.get_extra_attrs"><code>Recorder.get_extra_attrs</code></a> should copy the state attrs (<code>lrs</code>,<code>losses</code>,<code>iters</code> and <code>values</code>) into
a dict.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Recorder.dump_attrs" class="doc_header"><code>Recorder.dump_attrs</code><a href="https://github.com/butchland/fastai_xla_extensions/tree/master/fastai_xla_extensions/multi_core/callback.py#L65" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Recorder.dump_attrs</code>(<strong><code>fn</code></strong>=<em><code>'_rec_attr.pkl'</code></em>)</p>
</blockquote>
<p>dump state attrs to a file</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Recorder.reload_attrs" class="doc_header"><code>Recorder.reload_attrs</code><a href="https://github.com/butchland/fastai_xla_extensions/tree/master/fastai_xla_extensions/multi_core/callback.py#L79" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Recorder.reload_attrs</code>(<strong><code>fn</code></strong>=<em><code>'_rec_attr.pkl'</code></em>)</p>
</blockquote>
<p>reload attrs from file <code>fn</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_fn</span> <span class="o">=</span> <span class="s1">&#39;test_rec_attrs.pkl&#39;</span>
<span class="o">!</span>rm -f <span class="o">{</span>test_fn<span class="o">}</span>
<span class="n">learner</span><span class="o">.</span><span class="n">recorder</span><span class="o">.</span><span class="n">dump_attrs</span><span class="p">(</span><span class="n">fn</span><span class="o">=</span><span class="n">test_fn</span><span class="p">)</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">test_fn</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">f</span><span class="o">.</span><span class="n">is_file</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">delattr</span><span class="p">(</span><span class="n">learner</span><span class="o">.</span><span class="n">recorder</span><span class="p">,</span><span class="s1">&#39;lrs&#39;</span><span class="p">)</span>
<span class="nb">delattr</span><span class="p">(</span><span class="n">learner</span><span class="o">.</span><span class="n">recorder</span><span class="p">,</span><span class="s1">&#39;losses&#39;</span><span class="p">)</span>
<span class="nb">delattr</span><span class="p">(</span><span class="n">learner</span><span class="o">.</span><span class="n">recorder</span><span class="p">,</span><span class="s1">&#39;iters&#39;</span><span class="p">)</span>
<span class="nb">delattr</span><span class="p">(</span><span class="n">learner</span><span class="o">.</span><span class="n">recorder</span><span class="p">,</span><span class="s1">&#39;values&#39;</span><span class="p">)</span>
<span class="k">assert</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">learner</span><span class="o">.</span><span class="n">recorder</span><span class="p">,</span><span class="s1">&#39;lrs&#39;</span><span class="p">)</span>
<span class="k">assert</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">learner</span><span class="o">.</span><span class="n">recorder</span><span class="p">,</span><span class="s1">&#39;losses&#39;</span><span class="p">)</span>
<span class="k">assert</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">learner</span><span class="o">.</span><span class="n">recorder</span><span class="p">,</span><span class="s1">&#39;iters&#39;</span><span class="p">)</span>
<span class="k">assert</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">learner</span><span class="o">.</span><span class="n">recorder</span><span class="p">,</span><span class="s1">&#39;values&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">learner</span><span class="o">.</span><span class="n">recorder</span><span class="o">.</span><span class="n">reload_attrs</span><span class="p">(</span><span class="n">fn</span><span class="o">=</span><span class="n">test_fn</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">learner</span><span class="o">.</span><span class="n">recorder</span><span class="p">,</span><span class="s1">&#39;lrs&#39;</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">learner</span><span class="o">.</span><span class="n">recorder</span><span class="p">,</span><span class="s1">&#39;losses&#39;</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">learner</span><span class="o">.</span><span class="n">recorder</span><span class="p">,</span><span class="s1">&#39;iters&#39;</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">learner</span><span class="o">.</span><span class="n">recorder</span><span class="p">,</span><span class="s1">&#39;values&#39;</span><span class="p">)</span>
<span class="o">!</span>rm -f <span class="o">{</span>test_fn<span class="o">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Recorder.after_fit" class="doc_header"><code>Recorder.after_fit</code><a href="https://github.com/butchland/fastai_xla_extensions/tree/master/fastai_xla_extensions/multi_core/callback.py#L96" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Recorder.after_fit</code>()</p>
</blockquote>
<p>after fit dump extra attrs to file</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="ParamScheduler.dump_hps" class="doc_header"><code>ParamScheduler.dump_hps</code><a href="__main__.py#L7" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>ParamScheduler.dump_hps</code>(<strong><code>fn</code></strong>=<em><code>'_paramsched_hps.pkl'</code></em>)</p>
</blockquote>
<p>dump <code>hps</code> to a file <code>fn</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Recorder.reload_hps" class="doc_header"><code>Recorder.reload_hps</code><a href="https://github.com/butchland/fastai_xla_extensions/tree/master/fastai_xla_extensions/multi_core/callback.py#L128" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Recorder.reload_hps</code>(<strong><code>fn</code></strong>=<em><code>'_paramsched_hps.pkl'</code></em>)</p>
</blockquote>
<p>Load hyperparameters saved by ParamScheduler to recorder</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="ParamScheduler.after_fit" class="doc_header"><code>ParamScheduler.after_fit</code><a href="__main__.py#L5" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>ParamScheduler.after_fit</code>()</p>
</blockquote>
<p>save hps to file</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#colab</span>
<span class="n">param_fn</span> <span class="o">=</span> <span class="s1">&#39;_paramsched_hps.pkl&#39;</span>
<span class="o">!</span>rm -f <span class="o">{</span>param_fn<span class="o">}</span>
<span class="n">learner</span><span class="o">.</span><span class="n">inner_xla</span> <span class="o">=</span> <span class="kc">True</span> <span class="c1"># simulate spawned process learner</span>
<span class="n">learner</span><span class="o">.</span><span class="n">xla_rank</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">learner</span><span class="o">.</span><span class="n">fit_one_cycle</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">param_f</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">param_fn</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">param_f</span><span class="o">.</span><span class="n">is_file</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">delattr</span><span class="p">(</span><span class="n">learner</span><span class="o">.</span><span class="n">recorder</span><span class="p">,</span><span class="s1">&#39;hps&#39;</span><span class="p">)</span>
<span class="k">assert</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">learner</span><span class="o">.</span><span class="n">recorder</span><span class="p">,</span><span class="s1">&#39;hps&#39;</span><span class="p">)</span>
<span class="n">learner</span><span class="o">.</span><span class="n">recorder</span><span class="o">.</span><span class="n">reload_hps</span><span class="p">()</span>
<span class="k">assert</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">learner</span><span class="o">.</span><span class="n">recorder</span><span class="p">,</span><span class="s1">&#39;hps&#39;</span><span class="p">)</span>
<span class="o">!</span>rm -f <span class="o">{</span>param_fn<span class="o">}</span>
<span class="o">!</span>rm -f _rec_attr.pkl
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Test ParamScheduler (<code>fit_one_cycle</code> uses <code>ParamScheduler</code>) which means it should create a pickle file</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">fastcore.foundation</span> <span class="kn">import</span> <span class="n">L</span>
<span class="k">if</span> <span class="s1">&#39;progress&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">L</span><span class="p">(</span><span class="n">learner</span><span class="o">.</span><span class="n">cbs</span><span class="p">)</span><span class="o">.</span><span class="n">attrgot</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">):</span>
    <span class="n">learner</span><span class="o">.</span><span class="n">add_cbs</span><span class="p">(</span><span class="n">ProgressCallback</span><span class="p">)</span>
<span class="n">learner</span><span class="o">.</span><span class="n">fit_one_cycle</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: left;">
      <th>epoch</th>
      <th>train_loss</th>
      <th>valid_loss</th>
      <th>time</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>0.928667</td>
      <td>0.832751</td>
      <td>00:00</td>
    </tr>
    <tr>
      <td>1</td>
      <td>0.785133</td>
      <td>0.567121</td>
      <td>00:00</td>
    </tr>
    <tr>
      <td>2</td>
      <td>0.662554</td>
      <td>0.433650</td>
      <td>00:00</td>
    </tr>
    <tr>
      <td>3</td>
      <td>0.572687</td>
      <td>0.379000</td>
      <td>00:00</td>
    </tr>
    <tr>
      <td>4</td>
      <td>0.510633</td>
      <td>0.367608</td>
      <td>00:00</td>
    </tr>
  </tbody>
</table>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">param_f</span><span class="o">.</span><span class="n">is_file</span><span class="p">()</span>
<span class="n">rec_attr_f</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;_rec_attr.pkl&#39;</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">rec_attr_f</span><span class="o">.</span><span class="n">is_file</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

